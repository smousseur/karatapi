image: maven:3.9.9-jdk-17

variables:
  MAVEN_OPTS: "-Dmaven.repo.local=$CI_PROJECT_DIR/.m2/repository"
  TESTCONTAINERS_RYUK_DISABLED: "true"
  TESTCONTAINERS_CHECKS_DISABLE: "true"
  TESTCONTAINERS_REUSE_ENABLE: "true"
  TESTCONTAINERS_VERBOSE_LOGGING: "true"
  TESTCONTAINERS_LOG_LEVEL: "DEBUG"
  TESTCONTAINERS_HOST_OVERRIDE: "host.docker.internal"
  GITHUB_REPO: "smousseur/karatapi"
  GITHUB_URL: "https://github.com"

cache:
  paths:
    - .m2/repository

stages:
  - ðŸ“¦ test


build_java:
  stage: ðŸ“¦ test
  script:
    - TEST=${GITHUB_TOKEN}
    - echo $TEST
    - echo "https://${TEST}@${GITHUB_URL}
    - echo "https://${TEST}@${GITHUB_URL}/${GITHUB_REPO}.git"